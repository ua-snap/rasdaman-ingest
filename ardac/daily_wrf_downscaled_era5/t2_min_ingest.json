{
    "config": {
      "service_url": "https://localhost/rasdaman/ows",
      "tmp_directory": "/tmp/",
      "crs_resolver": "http://localhost:8080/def/",
      "default_crs": "http://localhost:8080/def/crs/EPSG/0/3338",
      "default_null_values": [
        "nan"
      ],
      "mock": false,
      "automated": true
    },
    "hooks": [
      {
        "description": "Create Daily Minimum 2m Temperature WMS style for ARDAC",
        "when": "after_import",
        "cmd": ". /etc/default/rasdaman; curl --user $RASCURL \"https://datacubes.earthmaps.io/rasdaman/admin/layer/style/add?COVERAGEID=era5_4km_daily_t2_min&STYLEID=ardac_t2_min_daily&ABSTRACT=Daily%20Minimum%202m%20Temperature%20(ERA5%204km)&WCPSQUERYFRAGMENT=%24c&COLORTABLETYPE=ColorMap&\" --data-urlencode \"COLORTABLEDEFINITION={\\\"type\\\":\\\"ramp\\\",\\\"colorTable\\\":{\\\"-40\\\":[59,76,192,255],\\\"-20\\\":[155,178,232,255],\\\"0\\\":[247,247,247,255],\\\"15\\\":[252,187,161,255],\\\"30\\\":[214,96,77,255],\\\"9999\\\":[0,0,0,0]}}\"",
        "abort_on_error": true
      }
    ],
    "input": {
      "coverage_id": "era5_4km_daily_t2_min",
      "paths": [
        "t2_min_merged.nc"
      ]
    },
    "recipe": {
      "name": "general_coverage",
      "options": {
        "wms_import": true,
        "import_order": "ascending",
        "tiling": "ALIGNED [0:*, 0:*, 0:*] tile size 4194304",
        "coverage": {
          "crs": "OGC/0/Index1D?axis-label=\"time\"@EPSG/0/3338",
          "metadata": {
            "type": "xml",
            "global": {
              "Title": "'Daily Minimum 2m Temperature'"
            }
          },
          "slicer": {
            "type": "netcdf",
            "pixelIsPoint": true,
            "bands": [
              {
                "name": "t2_min",
                "identifier": "t2_min"
              }
            ],
            "axes": {
              "time": {
                "statements": "from datetime import datetime; import netCDF4",
                "min": "netCDF4.num2date(${netcdf:variable:time:min}, '${netcdf:variable:time:units}', calendar='standard').strftime(\"%Y-%m-%dT%H:%M\")",
                "max": "netCDF4.num2date(${netcdf:variable:time:max}, '${netcdf:variable:time:units}', calendar='standard').strftime(\"%Y-%m-%dT%H:%M\")",
                "directPositions": "[netCDF4.num2date(x, '${netcdf:variable:time:units}', calendar='standard').strftime(\"%Y-%m-%dT%H:%M\") for x in ${netcdf:variable:time}]",
                "gridOrder": 0,
                "type": "ansidate",
                "irregular": true
              },
              "X": {
                "min": "${netcdf:variable:x:min}",
                "max": "${netcdf:variable:x:max}",
                "resolution": "${netcdf:variable:x:resolution}",
                "gridOrder": 2
              },
              "Y": {
                "min": "${netcdf:variable:y:min}",
                "max": "${netcdf:variable:y:max}",
                "resolution": "${netcdf:variable:y:resolution}",
                "gridOrder": 1
              }
            }
           }
         }
       }
     }
}
