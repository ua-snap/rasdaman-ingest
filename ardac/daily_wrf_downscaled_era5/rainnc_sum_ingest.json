{
    "config": {
      "service_url": "https://localhost/rasdaman/ows",
      "tmp_directory": "/tmp/",
      "crs_resolver": "http://localhost:8080/def/",
      "default_crs": "http://localhost:8080/def/crs/EPSG/0/3338",
      "default_null_values": [
        "nan"
      ],
      "mock": false,
      "automated": true
    },
    "hooks": [
      {
        "description": "Create Daily Total Precipitation WMS style for ARDAC",
        "when": "after_import",
        "cmd": ". /etc/default/rasdaman; curl --user $RASCURL \"https://datacubes.earthmaps.io/rasdaman/admin/layer/style/add?COVERAGEID=era5_4km_daily_rainnc_sum&STYLEID=ardac_rainnc_sum_daily&ABSTRACT=Daily%20Total%202m%20Precipitation%20(ERA5%204km)&WCPSQUERYFRAGMENT=%24c&COLORTABLETYPE=ColorMap&\" --data-urlencode \"COLORTABLEDEFINITION={\\\"type\\\":\\\"ramp\\\",\\\"colorTable\\\":{\\\"0\\\":[255,255,255,255],\\\"1\\\":[198,219,239,255],\\\"5\\\":[158,202,225,255],\\\"10\\\":[107,174,214,255],\\\"20\\\":[66,146,198,255],\\\"30\\\":[33,113,181,255],\\\"40\\\":[8,81,156,255],\\\"60\\\":[0,104,55,255],\\\"80\\\":[255,191,0,255],\\\"100\\\":[255,127,0,255],\\\"150\\\":[255,0,0,255],\\\"9999\\\":[0,0,0,0]}}\"",
        "abort_on_error": true
      }
    ],
    "input": {
      "coverage_id": "era5_4km_daily_rainnc_sum",
      "paths": [
        "rainnc_sum_merged.nc"
      ]
    },
    "recipe": {
      "name": "general_coverage",
      "options": {
        "wms_import": true,
        "import_order": "ascending",
        "tiling": "ALIGNED [0:*, 0:*, 0:*] tile size 4194304",
        "coverage": {
          "crs": "OGC/0/AnsiDate?axis-label=\"time\"@EPSG/0/3338",
          "metadata": {
            "type": "xml",
            "global": {
              "Title": "'Daily Sum of Precipitation'"
            }
          },
          "slicer": {
            "type": "netcdf",
            "pixelIsPoint": true,
            "bands": [
              {
                "name": "rainnc_sum",
                "identifier": "rainnc_sum"
              }
            ],
            "axes": {
              "time": {
                "statements": "from datetime import datetime; import netCDF4",
                "min": "netCDF4.num2date(${netcdf:variable:time:min}, '${netcdf:variable:time:units}', calendar='standard').strftime(\"%Y-%m-%dT%H:%M\")",
                "max": "netCDF4.num2date(${netcdf:variable:time:max}, '${netcdf:variable:time:units}', calendar='standard').strftime(\"%Y-%m-%dT%H:%M\")",
                "directPositions": "[netCDF4.num2date(x, '${netcdf:variable:time:units}', calendar='standard').strftime(\"%Y-%m-%dT%H:%M\") for x in ${netcdf:variable:time}]",
                "gridOrder": 0,
                "type": "ansidate",
                "irregular": true
              },
              "X": {
                "min": "${netcdf:variable:x:min}",
                "max": "${netcdf:variable:x:max}",
                "resolution": "${netcdf:variable:x:resolution}",
                "gridOrder": 2
              },
              "Y": {
                "min": "${netcdf:variable:y:min}",
                "max": "${netcdf:variable:y:max}",
                "resolution": "${netcdf:variable:y:resolution}",
                "gridOrder": 1
              }
            }
          }
        }
      }
    }
  }
